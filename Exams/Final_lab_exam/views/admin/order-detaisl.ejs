

<div class="container mt-5">
  <h2 class="text-center mb-4">Order Details</h2>

  <div class="mb-4">
    <h5>Customer Info:</h5>
    <p><strong>Name:</strong> <%= order.customer.name %></p>
    <p><strong>Email:</strong> <%= order.customer.email %></p>
    <p><strong>Address:</strong> <%= order.customer.address %></p>
    <p><strong>Total:</strong> Rs. <%= order.totalPrice %></p>
    <p><strong>Status:</strong> <%= order.status %></p>
    <p><strong>Placed On:</strong> <%= order.createdAt.toLocaleString() %></p>
  </div>

  <div class="mb-4">
    <h5>Products:</h5>
    <ul class="list-group">
      <% order.products.forEach(p => { %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <%= p.productId.name %>
          <span class="badge bg-primary rounded-pill">Qty: <%= p.quantity %></span>
        </li>
      <% }) %>
    </ul>
  </div>

  <div class="mb-4">
    <h5>Update Status:</h5>
    <form action="/order/update/<%= order._id %>" method="POST" class="form-inline">
      <select name="status" class="form-select mb-3" required>
        <option value="Pending" <%= order.status === "Pending" ? "selected" : "" %>>Pending</option>
        <option value="Processing" <%= order.status === "Processing" ? "selected" : "" %>>Processing</option>
        <option value="Shipped" <%= order.status === "Shipped" ? "selected" : "" %>>Shipped</option>
        <option value="Delivered" <%= order.status === "Delivered" ? "selected" : "" %>>Delivered</option>
      </select>
      <button class="btn btn-success ms-2" type="submit">Update</button>
    </form>
  </div>

  <a href="/order" class="btn btn-secondary">Back to Orders</a>
</div>
